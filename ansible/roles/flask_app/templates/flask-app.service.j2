[Unit]
Description=Flask application
After=network.target

[Service]
User=ubuntu
WorkingDirectory=/opt/flask-app
ExecStart=/opt/flask-app/venv/bin/gunicorn --workers 3 --bind 0.0.0.0:5000 app:app
Restart=always

[Install]
WantedBy=multi-user.target

Environment="PATH=/opt/flask-app/venv/bin:/usr/bin"
EnvironmentFile=/opt/flask-app/.env  # If using environment variables
ExecReload=/bin/kill -HUP $MAINPID
KillMode=process
TimeoutStopSec=5  # Graceful shutdown